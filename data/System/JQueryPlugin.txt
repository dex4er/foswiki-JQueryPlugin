%META:TOPICINFO{author="ProjectContributor" date="1246523556" format="1.1" reprev="1.7" version="1.7"}%
---+!! %TOPIC%
<!--
   * Set SHORTDESCRIPTION = jQuery <nop>JavaScript library for Foswiki
-->
%SHORTDESCRIPTION%

%TOC%

---++ Description
<table style="float:right">
<tr>
  <td><img src="%ATTACHURLPATH%/wikiringlogo40x40.png" title="Make your Wiki ring!" alt="WikiRing"></td>
  <td><a href="http://wikiring.com" title="Make your Wiki ring!" style="text-decoration:none">
      Powered by <br /> <nop>WikiRing Consultants </a>
  </td>
</tr>
</table>

This plugin contains the latest version of the [[http://jquery.com][jQuery]]
<nop>JavaScript library. 

<blockquote>
"jQuery is a fast, concise, <nop>JavaScript Library that simplifies how you traverse
HTML documents, handle events, perform animations, and add Ajax interactions to
your web pages."
</blockquote>

See the Sandbox.JQueryPluginExamples page for a demo of a couple of widgets used by Foswiki.

---++ Installed Plugins
%JQPLUGINS{
  header=""
  format="<h3>$index. <nop>$name $active</h3>
    Homepage: $homepage <br />
    Author(s): $author <br />
    Version: $version <br />
    $percntIF{\"'$tags' != ''\" then=\"Tags: $tags <br />\" else=\"<!-- no tags -->\"}$percnt
    <noautolink><p>$summary</p></noautolink>$n
  "
}%


---++ Themes
The following themes are provided:
   * base  
   * lightness  
   * redmond  
   * smoothness

---++ Examples
   * Sandbox.PluginTestJQueryPlugin	 	
   * Sandbox.JQueryPluginExamples

---++ Chili Syntax Highlighting
[[http://noteslog.com/chili/reference/][jquery.chili]]: client side syntax highlighting has been added to the JQueryPlugin.

To enable chili add
<verbatim>%JQREQUIRE{"chili"}%</verbatim>
somewhere on the page, or add it to the default jQuery plugins in [[%SCRIPTURL{"configure"}%][configure]].
%JQREQUIRE{"chili"}%

Syntax can be highlighted using the *&lt;verbatim&gt;* tag and the <u>class</u> attribute:

<verbatim class="html">
<verbatim class="html">

<html>
  <head>
    <title>Hello World</title>
  </head>
  <body>
    <font size="24px">Hello World</font>
  </body>
</html>

</verbatim>
</verbatim>

Available class attributes:
| =cplusplus= | C++ |
| =csharp= | C# |
| =css= | Cascading Style Sheets |
| =bash= | shell syntax |
| =delphi= | Delphi |
| =html= | Hypertext Markup Language |
| =java= | Java |
| =js= | !JavaScript |
| =lotusscript= | !LotusScript |
| =php-f= | Hypertext Preprocessor -f |
| =php= | Hypertext Preprocessor |
| =sql= | Structured Query Language |
| =tml= | Wiki Markup Language |

---++ Passing parameters from perl to javascript
Among other things the jquery.foswiki plugin reads =&lt;meta name="foswiki..." content="...">= tags
in the html header and store these properties into the =foswiki= javascript object.

When a parameter is called =foswiki.MyPlugin.parameter= will create a sub-object under =foswiki= and store 
the parameter there. This works recursively so that even a =foswiki.My.New.Plugin.parameter= will work out and create the appropriate nesting. 

If =content= is "false" or "true" these will be converted to proper Boolean. 
If =content= starts with =function(= a method of that name will be created inside the =foswiki= object.

---++ Further references and tutorials
   * [[http://docs.jquery.com/How_jQuery_Works][Getting the feet wet]]
   * [[http://docs.jquery.com/Tutorials][Tutorials]]
   * [[http://docs.jquery.com/Main_Page][Reference API]]
   * [[http://docs.jquery.com/Using_jQuery_with_Other_Libraries][Using jQuery with other libraries]]
   * [[http://docs.jquery.com/Plugins][Plugin repository]]


---++ Using compressed javascript and css files
All jQuery plugins are shipped with uncompressed js and css files, as well as minified and gzip compressed.
For instance the jquery.autocomplete comes with the following set:
   1 %PUBURLPATH%/%SYSTEMWEB%/JQueryPlugin/plugins/autocomplete/jquery.autocomplete.uncompressed.js
   1 %PUBURLPATH%/%SYSTEMWEB%/JQueryPlugin/plugins/autocomplete/jquery.autocomplete.js
   1 %PUBURLPATH%/%SYSTEMWEB%/JQueryPlugin/plugins/autocomplete/jquery.autocomplete.js.gz

There is a Makefile in the =%PUBURLPATH%/%SYSTEMWEB%/JQueryPlugin= root directory that grants all these
files are up to date. By default all files in the !JQueryPlugin package are up to date. So you only have to
issue a =make= in the root directory if you wish to
modify one of the files underneath. This will update
all minified and gzipped files as needed. Enable the ={JQueryPlugin}{Debug}= flag in =configure=, 
to use the uncompressed files right away to omit the =make= step during development of further javascript components.

Apache can be configured to automatically use the =.gz= files if present using mod_rewrite as follows:
<verbatim>
  <FilesMatch ".*\.(js|css)$">
    RewriteEngine On
    RewriteCond %{HTTP:Accept-encoding} gzip
    RewriteCond %{REQUEST_FILENAME}.gz -f
    RewriteRule ^(.*)$ %{REQUEST_URI}.gz [L,QSA]
  </FilesMatch>

  <Files *.js.gz>
    AddEncoding gzip .js
    ForceType application/x-javascript
  </Files>

  <Files *.css.gz>
    AddEncoding gzip .css
    ForceType text/css
  </Files>
</verbatim>

So whenever the browser accepts encoding the file as gzip _and_ the file with the =.gz= does exist
in the filesystem, then trigger an internal redirect while still enforcing the original mine-type.
The browser on the other side will unzip the css and js files automatically. This will drastically
reduce bandwidth and speed up interactive performance.


---++ Installation Instructions
%$INSTALL_INSTRUCTIONS%

---++ Plugin Roadmap
for v2.1:
   * create formfield types for user, topic, web
   * replace jquery.nifty with [[http://www.malsup.com/jquery/corner/][jquery.corner]]

for v2.2:
   * replace JSCalendarContrib date formfield with a jquery based one

for v2.3:
   * add jquery.tablesorter and rewrite serverbased sorting by TablePlugin automatically

---++ Plugin Info
|  Author(s): | Michael Daum |
|  Copyright: | 2007-2009 Michael Daum http://michaeldaumconsulting.com |
|  License: | GPL |
|  Release: | %$RELEASE% |
|  Version: | %$VERSION% |
|  Change History: | <!-- versions below in reverse order -->&nbsp; |
|  20 Aug 2009: | made <nop>JQueryPlugin <nop>SafeWikiPlugin compatible |
|  02 Jul 2009: | improved parsing of foswiki meta tags in html header; \
                  fixed jqTreeview initialisation for jquery-1.3.x; \
                  fixed chili initialisation; \
                  dropped support for konqueror3 |
|  23 Jun 2009: | added jquery.focus, jquery.textboxlist, jquery.farbtastic; jquery.gradient; \
                  added =color= and =textboxlist= formfield types; \
                  made !JQueryPlugin pluggable itself; \
                  added animation switching tabs; \
                  improved automaxexpand feature in tabs |
|  28 Apr 2009: | added jquery.media, jquery.simplemodal, shell highlightning for chilli |
|  03 Feb 2009: | fixed tabpane not being rendered using a rest handler; \
                  added id to tabs that can be used to init the first active one; \
                  added compressed version of blockUI; \
                  replaced ICONTOPIC preference variable with ICONSEARCHPATH to search for icons \
                  in multiple directories (defaults to all of <nop>FamFamFamContrib) |
|  15 Jan 2009: | fixed click target for relative urls in %<nop>BUTTON{}%; yet another jquery.wikiword fix |
|  13 Jan 2009: | fixed jquery.wikiword not to depend on outside string libraries; \
                  added foswiki alias to global javascript variables (Eugen Mayer) |
|  08 Jan 2009: | certified for foswiki/compat; fixed BUTTON target for non-wikiword topics |
|  12 Dec 2008: | fixed a series of IE6+IE7 issues |
|  18 Nov 2008: | added jquery.ifixpng; \
                  improved BUTTON tag to have submit and clear and reset buttons; \
                  ie6 fixes for BUTTONs; \
                  added missing jquery.wikiword plugin |
|  13 Nov 2008: | added automaxexpand for TABPANES ;\
                  added jquery.shake plugin; \
                  reworked BUTTON tag |
|  15 Oct 2008: | added jquery.autocomplete, jquery.cycle |
|  20 Jul 2008: | added jquery.form, jquery.maskedinput, jquery.validate |
|  15 Jul 2008: | updated to ui-1.5.2; added async treeview; added async options to tabpane |
|  03 Jul 2008: | updated to ui-1.5.1 |
|  05 Jun 2008: | updated to jquery-1.2.6 and ui-1.5-RC1 |
|  30 Apr 2008: | repackaged to contain jquery UI |
|  13 Feb 2008: | upgrade to jquery-1.2.3, as well as most plugins |
|  17 Jan 2008: | added jquery.metadata plugin; \
                  implemented a jquery.tabpane plugin; \
                  updated jquery.dimensions plugin; \
                  added jquery.empty plugin to ease development of new plugins |
|  15 Nov 2007: | use skin independent way to add javascript files to header |
|  10 Oct 2007: | upgraded to jQuery-1.1.4; compressed js and css |
|  12 Jul 2007: | initial package containing jQuery-1.1.3.1 |
|  Dependencies: | %$DEPENDENCIES% |
|  Home: | Foswiki:Extensions/%TOPIC% |
|  Support: | Foswiki:Support/%TOPIC% |


%META:FILEATTACHMENT{name="wikiringlogo40x40.png" attachment="wikiringlogo40x40.png" attr="h" comment="" date="1189787359" path="wikiringlogo40x40.png" size="2571" stream="wikiringlogo40x40.png" tmpFilename="" user="ProjectContributor" version="1"}%
